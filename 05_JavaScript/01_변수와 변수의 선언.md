## 변수의 선언

자바 스크립트는 `var`, `let`, `const` 키워드를 이용해 변수의 선언이 가능하다.

````js
var num1 = 3;
let num2 = 4;
const num3 = 5;
````

#### var

- `var` 키워드는 같은 이름의 변수를 선언할 수 있다.

  -> 변수의 의도하지 않은 값의 변경이 일어날 수 있다.

- `var` 키워드는 지역변수와 전역변수의 구별이 되지 않는다.

- `var` 키워드는 함수레벨 스코프로 동작한다.

  -> 전역변수의 남발 및 코드의 복잡도가 증가한다.

- `var` 키워드는 변수 호이스팅이 일어난다.

  -> 변수 선언 이전에 참조가 가능하다.

#### let, const

`var` 키워드의 단점을 극복하기 위해 ES6부터 도입된 변수 선언 키워드이며, `let`은 재할당(대입)이 가능한 일반적인 변수 선언을, `const`는 재할당이 불가능한 상수를 선언할 때 사용한다.

따라서 변수는 `let`을, 상수는 `const`를 사용하고 `var` 키워드는 사용하지 않는 것이 좋다.



## 스코프 (Scope)

변수에 접근할 수 있는 범위이다. 대부분의 언어는 블록 레벨 스코프를 지원하지만 JS는 함수 레벨 스코프를 지원한다.

- 블록 레벨 스코프

  - `let`과 `const` 키워드

  - 모든 코드 블록(함수, if문, for문 ..) 내부에서 선언한 변수는 코드 블록 내에서만 유효하며 외부에서 참조 불가

    ````js
    let letExample1 = 'letExample';
    
    {
        let letExample1 = 12;
        let letExample2 = 15;
    }
    
    console.log(letExample1); // letExample
    console.log(letExample2); // 오류
    ````

    > `let` 키워드는 블록 레벨 스코프로 동작하기 때문에 다른 코드 블록에 선언된 변수명이 같아도 전역에 선언된 변수와는 다른변수로 동작한다. 그리고 코드 블록 내부에서 선언한 letExample2 변수는 외부에서 참조가 불가능하므로 에러가 발생한다. 

- 함수 레벨 스코프

  - `var` 키워드

  - 함수 내부에서 선언한 변수는 지역변수이고, 함수 외부에서 선언한 변수는 전역변수

  - 함수 내부에서 선언한 변수는 함수 내에서만 유효하며 외부에서 참조 불가

    ````js
    console.log(varExample); // undefined
    
    var varExample = 'varExample';
    console.log(varExample); // varExample
    
    {
        var varExample = 15;
    }
    console.log(varExample); // 15
    ````

    > `var` 키워드는 함수 레벨 스코프로 동작하기 때문에 varExample 변수는 전역변수로 동작한다.



## 호이스팅 (Hoisting)

#### 변수의 생성 단계

| 변수 생성 단계 |                       내용                        |
| :------------: | :-----------------------------------------------: |
|    선언단계    | 변수를 실행 context의 변수객체에 등록 (공간 확보) |
|  초기화 단계   |            변수는 undefined로 초기화됨            |
|   할당 단계    |       undefined로 초기화된 변수에 값을 할당       |

> 위의 변수 생성 단계에서 `var` 키워드는 선언과 초기화가 한번에 이루어진다.   따라서 변수 선언 이전에 변수에 접근해도 에러가 발생하지 않는다.
>
> 그러나 `let`이나 `const` 키워드는 선언가 초기화 단계가 분리되어 진행되고, 초기화 단계는 변수 선언문에 도달했을 때 이루어지므로 초기화하기 전에 변수에 접근하면 참조에러(Reference Error)가 발생한다.

