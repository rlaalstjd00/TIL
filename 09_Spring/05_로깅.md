## 로깅

개발 도중 필요한 정보를 확인하고 싶을 때 로깅을 하는데, `System.out.println()` 을 사용하지 않고 별도의 로깅 라이브러리를 이용해 출력할 것이다.

스프링 부트 라이브러리에서는 `SLF4J` 로깅 인터페이스와 `Logback` 구현 라이브러리를 제공한다.

---

### 로그의 선언

```java
private Logger log = LoggerFactory.getLogger(getClass());
```

- 위의 코드처럼 로그를 선언하며, `getClass()` 자리에는 해당 클래스를 명시해주는 것으로 `클래스이름.class` 으로도 사용 가능하다.
- 위의 선언 코드를 적기 귀찮은 개발자들을 위해 롬복에서 `@Slf4j` 어노테이션을 제공하며, 클래스단위에 이 어노테이션을 사용하면 선언 코드는 생략이 가능하다. 

<br>

### 로그의 호출

````java
String userName = "Java";

log.info("Info log={}", userName);

// Info log=Java
````

- 위의 코드처럼 로그를 호출하며, `{}` 부분이 파라미터인 `userName` 과 치환되어 출력된다.

<br>

### 로그의 레벨

로그의 레벨에는 총 다섯가지가 있으며 위에서부터 아래로 갈 수록 높은 레벨을 가진다.

- `TRACE`
- `DEBUG`
- `INFO`
- `WARN`
- `ERROR`

`application.properties` 에서 로그의 출력 레벨을 설정할 수 있다.

````java
logging.level.패키지이름=레벨
````

이는 설정한 패키지 포함 하위의 로그레벨을 설정하는 것으로, 설정된 레벨 이상의 로그가 모두 출력된다.

예를 들어, `logging.level.hello=debug` 로 설정했다면 `hello` 패키지를 포함한 하위의 모든 파일을 `debug` 이상의 레벨로 로깅한다는 의미이다. 그렇게 되면 `debug`, `info`, `warn`, `error` 로그가 모두 출력된다.

아무 설정도 하지 않으면 기본 레벨값은 `info` 이다.

(참고로 `System.out.println()` 은 로그 레벨에 상관없이 무조건 출력되기 때문에 사용을 권장하지 않는 것이다. 그리고 콘솔창에서만 출력되는 `System.out.println()` 와 다르게 로그는 따로 파일로 만들어 저장할 수 도 있고, 유의미한 활용이 가능하기 때문에 훨씬 유리하다.)

>### `log.info("Info log={}", userName)` VS `log.info("info log=" + userName)`
>
>자바 문법 특성상 위의 둘은 모두 같은 결과를 출력하지만, 거의 무조건 전자로 쓴다.
>
>만약 로그 레벨이 `info` 일때의 `trace` 로그를 살펴보자. 당연히 `trace` 로그는 레벨이 더 낮으므로 출력되지 않을 것이다.
>
>- `log.trace("Trace log={}", userName)` 은 메서드에서 파라미터로 넘기는 것이기 때문에 애초에 출력되지 않을 레벨의 로그라면 실행되지 않는다.
>- `log.trace("Trace log=" + userName)` 은 출력되지 않을 로그라고 해도, 괄호 안에서 `+` 라는 연산이 일어나고 그 결과도 모두 가지고 있다. 결국 불필요한 연산이 발생하고 이는 리소스의 낭비로 이어진다.
>
>로그의 양은 매우 방대하기 때문에, 저런 사소한 연산일지라도 큰 영향을 초래할 수 있다. 따라서 특별한 이유가 없다면 무조건 전자로 쓰도록 하자.